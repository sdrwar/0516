1. *아이디/사용자이름/비밀번호 입력후 서비스->컴퓨팅->EC2 접속 후 우측 상단에서 나라 확인 후 선택*
검색에서 바로 찾기도 가능.

ㅁAWS 접속시 어느 지역(리전)인지 반드시 확인 
-우측 상단 아이디 보이는 곳에서 확인 가능.
-자주 바뀌기 때문에 필수적으로 확인해야 한다.
ㅁAWS 정책도 자주 바뀌기 때문에 확인을 자주 해야한다.(클라우드는 자주 바뀐다라는 개념만 알고 있으면 될 것 같다.)

2. 지역 변경 후 인스턴스-인스턴스, 인스턴스 시작.
-이름 설정후 OS선택(windows의 최신판으로 설정했었다), 새 키페어 생성 후 이름 입력

3. 네트워크 설정이 안되어 있기 때문에 만들 수 없었다.
-서비스>네트워킹 및 콘텐츠 전송>VPC>생성(버튼이 있는 위치에 따라 설정법이 각기 다르다)
ex. 대시보드에 나오는 vpc 생성버튼/ vpc 에서 나오는 생성버튼
vpc만 클릭 후>사설ip192.168.0.0/16 네트워크 ip를 많이쓰는 큰사이즈로 만들었다.
*클라우드에서 vpc라고 하는 가상의 리전은 5개 만들 수 있다, 하지만 서브넷은 200개를 만들 수 있다.

4. 그 후 다시 인스턴스 시작으로 다시 시도
-네트워크 설정에서 편집
vpc는 생성한 vpc 선택
-서브넷 생성에 들어가서 vpc설정에서 생성한 vpc선택 후
서브넷 이름 설정 하고 가용영역은 2a로 주었고, CIDR블록(서브네팅으로 나누는 값을 입력: 나누고 싶은 만큼)
ex. 2개로 나눈다고 쳤을시, 이중화를 위해 1개씩 추가하여 4개를 만든다고 가정할때
192.168.0.0/26, 192.168.0.64/26, 192.168.0.128/26, 192.168.0.192/26 중 1개를 입력하면 된다.
(192.168.0.0/26을 입력했을때 충돌이 나면 192.168.0.64/26으로 만들어도 된다)
나의 서브넷 아이디: subnet-09159be7196738c8b

5. 그 후 다시 컴퓨팅->EC2에 접속 후 VPC와 생성한 서브넷 선택등을 한 후 인스턴스 생성

*EC2 VPC등등의 삭제 방법이 각기 다르다.*(삭제하는 방법이 특히 중요하다)
EC2의 삭제 방법은 작업 버튼 왼쪽에 있는 인스턴스 상태에서 스크롤 아래에 있는 인스턴스 종료를 누르면 된다.
(리스트에서 20분~30분 후 자동삭제 된다고 한다.)
EC2가 생성되어 있는 상태에서는 VPC의 삭제가 되지 않는다.
키페어 같은 경우는 리눅스는 삭제하면 안되고, 윈도우즈는 삭제해도 되는 삭제의 가능 여부의 케이스도 있으니 주의하여 물어보며 차근차근 나가자.

■오후수업 (aws ppt icons를 검색해 최신의 aws 아이콘을 익혀놔야 프로젝트시 그림을 그리는데 편하다.)
•VPC(Virtual Private Cloud): 가상의 격리된 네트워크
-하나의 리전에는 5개의 vpc, 하나의 vpc안에는 200개의 서브넷을 구축 할 수 있다.
vpc를 설정할때 CIDR값을 필수로 입력해야한다.(설계 자체를 처음부터 잘 해야한다-서브넷 사이즈를 크게, 또는 작게 나누는 것을 고려해야한다)
--변경하는데 어려움이 많다.(변경이 자유롭지 못하다)
※클라우드의 네트워크는 특이하다.(애저, AWS, 구글 등등 다 다르다)
구글의 클라우드 네트워크: 개발자가 쓰는 네트워크
AWS에서의 네트워크: 서브넷을 몇개로 가져갈 것이냐가 중요한 문제

ㅁAWS에서의 subnet 종류
•Public subnet: 외부(인터넷)에서 들어올 수도 있고 나갈 수도 있는 서브넷 [외부 서비스용]
•Private subnet: 외부에서 들어올 수도 없고, 나갈 수도 없는 서브넷(공인IP가 없는 서브넷), 보안상 좋기는하나, 나 조차도 들어갈 수가 없다. [보안용]
•VPN subnet: VPC안에서도 VPN을 각각 알아야 한다.

하나의 VPC안은 NAT로 이루어져 있다.(NAT: IP를 네트워크를 변환해주는 기술)
EC2안은 사설IP로 구성하고 외부로 나갈땐 NAT를 이용해 공인IP로 나간다.

•클라우드 안에서는 IP를 수동세팅하지 말아야 한다.(클라우드는 껐다 켰다 했을때 IP가 계속 바뀐다-그래서 DNS방식을 알아야 한다)
VPC는 Region(물리적인, 지리적인 위치-Seoul)안에 위치해야하고, 리전 안에는 2개의 AZ(어밸러빌리티 존, 가용영역)이 있다.
AZ: 논리적인 데이터센터들의 집합.(지리적으로 2개의 AZ는 100km 미만 안에 있다)

VPC 안에 자동으로 라우터가 만들어진다.
-그래서 하나의 VPC 안에 2개의 AZ는 서로 통신이 가능하다.(서브네팅으로 나누어져 각기 다른 네트워크로 구성되어 있지만..)
각기 다른 서브넷이지만, 라우터가 자동으로 만들어져 서브네팅으로 나눈 서버들간의 통신이 가능하다.
-문제점: 보안상의 문제가 발생한다.(퍼블릭 서버로 들어와 보안상의 이유때문에 만든 프라이빗 서버로 연결되어 보안상 문제가 있다.)
>라우트테이블을 만져 분리시켜 주는 것이 중요하다.(인플라이드 라우터: 보이지 않는 라우터)
라우터를 여러개를 만들어, 각각 서브넷 마다 라우터를 만들어 주는 것이 중요하다.

VPC안의 퍼블릭 서버에서 외부로 나갈땐 사설IP가 공인IP로 바뀌지만 유동IP라서 IP가 자주 바뀔 수 있는 문제가 있다.
하지만, 여러개의 서버를 복제하여 확장시킨다고 했을때 IP충돌의 문제점은 없앨 수 있다.
-고정 공인 IP(EIP-일라스틱IP): 하나의 리전에 5개의 고정 공인IP를 쓸 수 있다.(아껴써야한다 서버에 각각 주면 안된다.)
LB(로드밸런서)에 고정 공인IP를 주는 것이 맞다.

-VPC는 Unicast 방식만이 사용된다.(멀티캐스트, 브로드캐스트 등은 쓰지 못한다.)

ㅁAWS 네트워크 구축시 필수요소들
1. 서브네팅은 기본적으로 해야 한다.
2. 라우팅 테이블이 반드시 조절 되어야 한다.

ㅁAWS
•VPC의 구성요소: 퍼블릭 서브넷, 프라이빗 서브넷, VPN 전용 서브넷
프라이빗 서브넷에서 인터넷으로 나가기 위해선 VPC NAT를 퍼블릭 서버에 두고 연결해 나갈 수 있다.(나가는 것만 가능하다.)
VPN 서브넷을 만든 목적?

ㅁ가상의 VPC를 만들어놔도, 인터넷 게이트웨이를 만들어 두지 않으면, 인터넷으로 나갈 수 없다.

-하나의 AZ에는 여러개의 서브넷을 만들 수 있지만, 하나의 서브넷은 하나의 AZ안에 속해있어야 한다.

-VPC 바깥에 그리는 기기는 네트워크 없이도 자체적으로 동작할 수 있다.(서브넷 안에, vpc안에 vpc밖에 그려야하는 아이콘들이 따로 있다)

ㅁ서버의 트래픽이 발생하여, 접속에 문제가 생길 경우 할 수 있는 조치 및 AWS 용어들
-서버의 성능 업그레이드(ex. cpu,ram등): scale-up (스케일업 할때 다운타임이 존재한다) 가장 빠르고 효과적이다.
-서버를 증설하는 것: scale-out(시간과 비용이 많이들고 어려운 작업이나, 클라우드에서는 증설하는 시간이 2~3초정도면 된다.) ※비추천
•scale-up의 문제점: 한대의 서버가 죽으면 이중화가 되어 있지 않아 서비스를 할 수 없다.
•autoscaling: 서버에 부하가 오면 서버를 자동으로 늘려주는 AWS의 기술
•NACL(Network Access Control Lists): 서브넷을 만들면 보안상의 강화를 위해 자동으로 방화벽을 설치해준다.
•EIP: 고정 공인 IP
•ENI: 네트워크 랜카드/랜카드의 NIC(network interface card)를 AWS에 쓰는 용어로 변경한 것

-AWS는 기본적으로 서버 생성시 포트가 다 닫혀있다. ICMP로 열어줘야하나?
서버라우팅 테이블까지 0.0.0.0/0 추가하여 나의 VPC에 연결까지 해줘야 인터넷으로 연결 가능

모든 클라우드 서버 생성시 내 PC처럼 만들어둬야, 내것처럼 만들어야 거리감이 없다.(시간, 언어 등등 한국으로 설정)
클라우드 구성시 중요점: 네트워크 구성-인프라구성-네트워크 보안등등
