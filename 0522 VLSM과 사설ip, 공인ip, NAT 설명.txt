*서브네팅으로 네트워크 나누는 문제 중요*

VLSM(Variable Length Subnet Mask, 가변길이 서브넷마스크)
-서브네팅과 서브넷마스크 한 것을 라우터가 인식할 수 있도록 하는것.
-95년도에 VLSM이 나오면서 라우터들이 VLSM을 인식할 수 있도록 해야했다.(현재는 VLSM을 인식하는 라우터들이 나오고 있다)
표기법 CIDR로 표기 /28 /24등등
http://www.ktword.co.kr/test/view/view.php?m_temp1=1826

Private IP의 CIDR 표기법: A /8 B/12 C/16

-DHCP(Dynamic Host Configuration Protocol, 동적 호스트 구성 프로토콜
DHCP란 호스트의 IP주소와 각종 TCP/IP 프로토콜의 기본 설정을 클라이언트에게 자동적으로 제공해주는 프로토콜을 말합니다. 
DHCP에 대한 표준은 RFC문서에 정의되어 있으며, DHCP는 네트워크에 사용되는 IP주소를 DHCP서버가 중앙집중식으로 관리하는 클라이언트/서버 모델을 사용하게 됩니다. 
DHCP지원 클라이언트는 네트워크 부팅과정에서 DHCP서버에 IP주소를 요청하고 이를 얻을 수 있습니다.

"DHCP" server: IP와 서브넷마스크, 게이트웨이 정보등을 세팅해놓으면 자동으로 PC등으로 배분하는 서버
"DHCP" client: IP를 배정받을 PC등을 통칭.

IP 자동 배분: DHCP 방식을 써 IP를 자동으로 배분 = dynamic ip = 유동 ip
IP 수동 배분: 유저가 알아서 수동으로 배분	  = static ip = 정적 ip = 고정 ip

ip 	- private ip: 사설 ip
	- public ip : 공인 ip

통신사들은 고객 pc에 퍼블릭, 다이나믹 ip를 배정해주지만, 밑으로는 사설ip를 할당한다.(공유기 처럼)

기존에 구축해놓은(예를들면 TCP/IP, 이더넷을쓰는) 사설 ip주소가 인터넷으로 나갈때 사놓은 공인 ip주소로 바꿔주는 기기 = NAT 장비.
ex. 200개의 pc가 있는 사설 ip주소를 쓰는 회사가 200개의 공인 ip를 사서 인터넷으로 나갈때 각각의 사설 ip를 바꿔줌 - 1:1 NAT
200개의 pc가 있는 ~ 10개의 공인~ : 1:N NAT (동시에 인터넷으로 나갈 수 있는 사설 ip는 10개)
	1: ALL NAT?

SNAT (소스나트)
소스의 ip를 바꾸어 인터넷으로 나가는 방식.(1~1023제외 랜덤한 번호)
3대의 사설ip를 쓰는 pc로 1개의 공인ip를 사용한다고 하면 192.068.0.11:1024 ->192.168.0.12:1025->.. 이런식으로
NAT table에 저장 후 외부(공인ip)에서 들어오는 데이터를 각각의 사설ip로 보내줄 수 있다.

*NAT는 Translation하는 table을 가지고있어야 한다. (줄여서 NAT table)

1:1로 변환하지 않으면 문제점이 생긴다. (3개의 pc를 1개의 공인 ip를 이용하여 인터넷으로 나갈 경우)
ip번호에서는 들어온 공인ip로 보낸 사설 ip를 확인할 방법이 없다. 1개의 공인ip를 사용했기 때문에.
소스포트에서의 번호를 NAT에서 소스 포트를 바꿔버려 저장한다.(NAT table에서만 있는, NAT table에서만 변환된)
-> NAT 1:ALL 방식 (PAT): 공인 ip 하나로 인터넷을 사용하는 방식
network IP주소를 변환하는 기술.(사설-사설, 사설-공인, 공인-사설, 공인-공인)

PAT: ip 공유기 (iptime같은)
iptime의 기능: 공인ip(유동ip)pc를끄면 ip가 바뀌는.., 사설ip(유동ip), 
DHCP server, Router, NAT(PAT), 게이트웨이 주소도 가지고 있다.
Port forwading 기능: 목적지 포트를 변경하여, 외부에서도 들어올 수 있게하는 기능 (DNAT 기능)

원격 3389포트로 쓰려면 공인ip(202.~)뒤에 :3389로 입력하면 원격 모드로 들어가고, 설정을 따로하면 다른 포트 번호로도 3389의 기능을 할 수 있다.


NAT의 장점과 단점
1. 보안이 강화가 된다.(사설 ip는 인터넷에서 돌아다닐 수 없으니, 찾아갈 수가 없으므로)
2. 웹서버로 만들어도 서비스를 할 수가 없다.
3. ip주소를 낭비하지 않을 수 있다.

DNAT(데스티네이션NAT)
목적지의 ip를 바꾸어 외부(공인ip)에서도 내부 네트워크(사설ip)로 들어올 수있게 하는 기기
